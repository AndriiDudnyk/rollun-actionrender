# Пошаговое руководство по установке прилежения на контейнер.

## 1) VPN получаем доступ 

Для начала нам нужно получить доступ на сервер. 
Для этого мы должны получить насткройи для [OpenVpn](https://openvpn.net/index.php/open-source/downloads.html).
Их можно получить
* в рпозитории [Server-Drakon](https://github.com/avz-cmf/Server-Drakon/tree/master/VPN).
* обратится к __Андрею Владимировичу__.


## 2) ssh - доступ в контейнер     

Теперь когда у нас есть доступ на сервер, мы должны получить доступ в контейнер.
> Для этого нам нужно знать id контейнера к которому мы хотим получить доступ. [Список контейнеров](https://github.com/avz-cmf/Server-Drakon/blob/master/Docker/DOCKER.md).

Их можно получить
* в рпозитории [Server-Drakon](https://github.com/avz-cmf/Server-Drakon/tree/master/Docker/pass)
* обратится к __Андрею Владимировичу__.

## 3) Подлючаемся к контейнеру

И так, у нас есть настройки OpenVpn и учетная запись для доступа в контейнер.
Теперь мы должны соедениться с сервером используя [OpenVpn](https://openvpn.net/index.php/open-source/downloads.html).
После этого, используя ssh или его аналог подлючимся в контейнер используя полученые настройки в пункте [2]()

## 4) Создание rsa ключа

Для того что бы мы могли скачивать с github приватные репозитории и npm зависимости,
 нам нужно настройить доступ на github используя rsa ключ.
Для его генерации вы можете использовать скрипт [ssh_rsa](https://github.com/avz-cmf/Server-Drakon/blob/master/scripts/ssh_gen.sh)
> Если у вас нет доступа обратитесь к __Андрею Владимировичу__.

Запускаем данный скрит из под bash(На win вам нужно использовать git/bush) и следуем указаниям скрипта.

## 5) Загружаем наше приложение

Теперь нам нужно скачать наше приложение.
 1) Заходим в дерикторию `/var/www`  
 2) Удаляем папку `app`  
 3) Используя команду `git clone {rep-url} app` скачиваем наше приложение. 

## 6) Загружаем зависимости

Заходим в дерикторию `app` и запускаем `composer.phar install`

## 7) Настройка приложения

Теперь остается настроить приложение дописав локальные конфиги (например соеденение с БД) если таковы требуються.

## 8) Автоматическа настройка окружения приложения и библиотек

Мы подошли к завершающему шагу - полуавтоматической настройке окружения.
Используя команду `composer lib-install` и следуя инструкциям мы инициализируем окружения для нашего приложения.  